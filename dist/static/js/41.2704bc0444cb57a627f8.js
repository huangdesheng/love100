webpackJsonp([41],{"4NGy":function(e,t){},KVVo:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=r("lC5x"),n=r.n(o),s=r("J0Oq"),a=r.n(s),i=r("gyMJ"),c={data:function(){return{helpGroupProjectVO:{},helpGroupRecordVOS:[],helpGroupProjectRecipientsVOS:[],footerStatus:!0,record:!0,openStatus:!1,helpGroupRecordVOSAll:[],status:!0,organBaseInfoVO:{}}},mixins:[r("cnSu").a],mounted:function(){this.init(),window.scroll(0,0),void 0===this.$route.query.status?this.groupHelpDetails(this.$route.query.projectId):this.myLaunchDetails(this.$route.query.projectId)},methods:{init:function(){var e=this;setTimeout(function(){e.$nextTick(function(){document.getElementById("flexslide").childNodes[0].lastElementChild.style.height="2px",document.getElementById("infoObject").childNodes[0].style.display="block"})},1e3)},groupHelpDetails:function(e){var t=this;return a()(n.a.mark(function r(){var o,s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.groupHelpDetails(e);case 2:200===(o=r.sent).code&&(t.helpGroupProjectVO=o.data.helpGroupProjectVO,t.organBaseInfoVO=o.data.organBaseInfoVO,null==o.data.helpGroupRecordVOS?(t.helpGroupRecordVOS=[],t.helpGroupRecordVOSAll=[]):(t.helpGroupRecordVOSAll=o.data.helpGroupRecordVOS,s=o.data.helpGroupRecordVOS.filter(function(e,t){return t<2}),t.helpGroupRecordVOS=s),t.helpGroupProjectRecipientsVOS=o.data.helpGroupProjectRecipientsVOS,t.status=t.helpGroupRecordVOSAll.length>2,t.helpGroupProjectRecipientsVOS.filter(function(e){if(2===e.helpStatus||1===e.helpStatus||-1===e.helpStatus)return e}).length==t.helpGroupProjectRecipientsVOS.length&&(t.footerStatus=!1));case 4:case"end":return r.stop()}},r,t)}))()},myLaunchDetails:function(e){var t=this;return a()(n.a.mark(function r(){var o,s,a,c;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.myLaunchDetails(e);case 2:200===(o=r.sent).code&&(s={introduce:o.data.introduce,projectPhoto:o.data.projectPhoto,beenHelpCount:o.data.beenHelpCount,allRecipients:o.data.allRecipients,tempMessage:o.data.tempMessage,title:o.data.title},t.helpGroupProjectVO=s,a=o.data.organBaseInfoVOS.filter(function(e){return e.organId===o.data.organId}),t.organBaseInfoVO=a[0],t.helpGroupProjectRecipientsVOS=o.data.recipientsVOS,null==o.data.helpGroupRecordVOS?(t.helpGroupRecordVOS=[],t.helpGroupRecordVOSAll=[]):(t.helpGroupRecordVOSAll=o.data.helpGroupRecordVOS,c=o.data.helpGroupRecordVOS.filter(function(e,t){return t<2}),t.helpGroupRecordVOS=c),t.status=t.helpGroupRecordVOSAll.length>2,t.footerStatus=!1,1===t.$route.query.status?t.record=!0:t.record=!1);case 4:case"end":return r.stop()}},r,t)}))()},selectedObj:function(e){for(var t=document.getElementById("flexslide").childNodes,r=document.getElementById("infoObject").childNodes,o=0;o<t.length;o++)t[o].lastElementChild.style.height="0px",r[o].style.display="none";t[e].lastElementChild.style.height="2px",r[e].style.display="block"},openwelfare:function(){this.openStatus=!0,this.helpGroupRecordVOS=this.helpGroupRecordVOSAll},closewelfare:function(){this.openStatus=!1;var e=this.helpGroupRecordVOSAll.filter(function(e,t){return t<2});this.helpGroupRecordVOS=e},helpStudent:function(){var e=this.helpGroupProjectVO.projectId;this.helpObjectList(e)},helpObjectList:function(e){var t=this;return a()(n.a.mark(function r(){return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,i.a.helpObjectList(e);case 2:200===r.sent.code&&t.$router.push({path:"/helpProgram/selectObject",query:{projectId:t.helpGroupProjectVO.projectId,status:1}});case 4:case"end":return r.stop()}},r,t)}))()}}},l={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"page-program",attrs:{id:"page-program"}},[r("div",{staticClass:"details",style:{marginBottom:e.footerStatus?"10vh":"0"}},[r("div",{staticClass:"top_details"},[e._m(0),e._v(" "),r("div",[r("div",[r("div",{staticStyle:{height:"5rem",width:"100%",overflow:"hidden"}},[r("img",{attrs:{src:e.helpGroupProjectVO.projectPhoto,alt:"",width:"100%"},on:{click:function(t){return e.singleBigTu(e.helpGroupProjectVO.projectPhoto)}}})]),e._v(" "),r("p",[e._v(e._s(e.helpGroupProjectVO.title))]),e._v(" "),r("p",[e._v("\n            已经帮扶\n            "),r("span",[e._v(e._s(e.helpGroupProjectVO.beenHelpCount)+"人")]),e._v(" 共\n            "),r("span",[e._v(e._s(e.helpGroupProjectVO.allRecipients)+"人")])])]),e._v(" "),r("p",[e._v(e._s(e.helpGroupProjectVO.tempMessage))]),e._v(" "),0===this.$route.query.status?r("button",{staticClass:"checking"},[e._v("审核中")]):e._e()])]),e._v(" "),r("div",{staticClass:"introduction"},[e._m(1),e._v(" "),r("p",[e._v(e._s(e.helpGroupProjectVO.introduce))])]),e._v(" "),r("div",{staticClass:"organization"},[e._m(2),e._v(" "),r("div",[r("p",[r("span",[e._v("机构名称:")]),e._v(" "),r("span",[e._v(e._s(e.organBaseInfoVO.name))])]),e._v(" "),r("p",[r("span",[e._v("机构负责人:")]),e._v(" "),r("span",[e._v(e._s(e.organBaseInfoVO.corporation))])]),e._v(" "),r("p",[r("span",[e._v("机构地址:")]),e._v(" "),r("span",[e._v(e._s(e.organBaseInfoVO.region))])])])]),e._v(" "),r("div",{staticClass:"studentStory"},[e._m(3),e._v(" "),r("div",{staticClass:"tabSelect"},[r("div",{staticClass:"concent"},[r("ul",{staticClass:"box",attrs:{id:"flexslide"}},e._l(e.helpGroupProjectRecipientsVOS,function(t,o){return r("li",{key:o,on:{click:function(t){return e.selectedObj(o)}}},[1===t.helpStatus?r("p",[e._v("帮扶完成")]):e._e(),e._v(" "),2===t.helpStatus?r("p",[e._v("帮扶中")]):e._e(),e._v(" "),-1===t.helpStatus?r("p",[e._v("已结束")]):e._e(),e._v(" "),r("div",[r("img",{style:{backgroundImage:"url("+t.photo+")",backgroundSize:"cover",width:"2rem",height:"2rem",backgroundRepeat:"no-repeat",backgroundPosition:"center center"}})]),e._v(" "),r("span")])}),0)]),e._v(" "),r("div",{attrs:{id:"infoObject"}},e._l(e.helpGroupProjectRecipientsVOS,function(t,o){return r("div",{key:o,staticClass:"van-tab__pane"},[r("aside",[r("span",[e._v(e._s(t.name))]),e._v(" "),r("p",[r("span",[e._v(e._s(1===t.sex?"男":"女"))]),e._v(" "),r("span",[e._v(e._s(t.age)+"岁")])])]),e._v(" "),r("aside",[r("span",{staticClass:"grade"},[e._v("加入年级："+e._s(t.classNumber)+"年级")]),e._v(" "),r("p",[e._v("地址："+e._s(t.region))])]),e._v(" "),r("aside",[r("span",[e._v("爱心情况")]),e._v(" "),r("span",[r("van-rate",{attrs:{icon:"like","void-icon":"like-o",count:t.totalPeriods,size:22,color:"red","void-color":"red",readonly:""},model:{value:t.loveValue,callback:function(r){e.$set(t,"loveValue",r)},expression:"item.loveValue"}})],1)]),e._v(" "),r("aside",[r("span",[e._v("家庭状况")]),e._v(" "),r("div",[r("span",[e._v(e._s(t.family))]),e._v(" "),t.photos.filter(function(e){return 2===e.type}).length>0?r("div",{staticClass:"morePic"},e._l(t.photos.filter(function(e){return 2===e.type})[0].urls,function(o,n){return r("span",{key:n,staticClass:"img",style:{backgroundImage:"url("+o+")",backgroundSize:"cover"},on:{click:function(r){e.seeBigTu(o,t.photos.filter(function(e){return 2===e.type})[0].urls)}}})}),0):e._e()])]),e._v(" "),r("aside",[r("span",[e._v("学习情况")]),e._v(" "),r("div",[r("span",[e._v(e._s(t.learn))]),e._v(" "),t.photos.filter(function(e){return 3===e.type}).length>0?r("div",{staticClass:"morePic"},e._l(t.photos.filter(function(e){return 3===e.type})[0].urls,function(o,n){return r("span",{key:n,staticClass:"img",style:{backgroundImage:"url("+o+")",backgroundSize:"cover"},on:{click:function(r){e.seeBigTu(o,t.photos.filter(function(e){return 3===e.type})[0].urls)}}})}),0):e._e()])])])}),0)])]),e._v(" "),e.record?r("div",{staticClass:"record"},[e._m(4),e._v(" "),e.helpGroupRecordVOS.length>0?r("ul",e._l(e.helpGroupRecordVOS,function(t,o){return r("li",{key:o},[r("div",[r("img",{attrs:{src:t.aidAccountPhoto,alt:""}})]),e._v(" "),r("div",[r("p",[e._v(e._s(t.aidAccountName))]),e._v(" "),r("p",[e._v("\n              帮扶了\n              "),r("span",[e._v(e._s(t.recipients))])])])])}),0):r("div",{staticClass:"no_data_welfare"},[e._v("暂无帮扶记录")]),e._v(" "),e.status?[e.openStatus?r("p",{on:{click:e.closewelfare}},[r("van-icon",{attrs:{name:"arrow-up"}}),e._v("收起查看更多爱心贡献\n        ")],1):r("p",{on:{click:e.openwelfare}},[r("van-icon",{attrs:{name:"arrow-down"}}),e._v("展开查看更多爱心贡献\n        ")],1)]:e._e()],2):e._e()]),e._v(" "),e.footerStatus?r("div",{staticClass:"footer"},[r("van-button",{attrs:{type:"primary"},on:{click:e.helpStudent}},[e._v("我要帮扶贫困学生")])],1):e._e()])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:"http://love100.qxiao.net:8888/group1/M00/00/06/rBFAEl0kRFGABwl8AAAcRmRw45U151.jpg",alt:""}})])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span"),this._v(" "),t("h2",[this._v("项目介绍")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span"),this._v(" "),t("h2",[this._v("机构信息:")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span"),this._v(" "),t("h2",[this._v("学生故事")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("span"),this._v(" "),t("h2",[this._v("帮扶记录")])])}]};var p=r("C7Lr")(c,l,!1,function(e){r("4NGy")},"data-v-328c75d7",null);t.default=p.exports}});